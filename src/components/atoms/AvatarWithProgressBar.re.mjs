// Generated by ReScript, PLEASE EDIT WITH CARE

import * as JsxRuntime from "react/jsx-runtime";

function getSkillColor(skillLevel) {
  if (skillLevel >= 75) {
    return "#10b981";
  } else if (skillLevel >= 50) {
    return "#3b82f6";
  } else if (skillLevel >= 25) {
    return "#f59e0b";
  } else {
    return "#ef4444";
  }
}

function AvatarWithProgressBar(props) {
  var __size = props.size;
  var skillLevel = props.skillLevel;
  var name = props.name;
  var pictureUrl = props.pictureUrl;
  var size = __size !== undefined ? __size : "medium";
  var match = size === "medium" ? [
      "w-10 h-10",
      "w-7 h-7",
      18
    ] : (
      size === "small" ? [
          "w-8 h-8",
          "w-6 h-6",
          14
        ] : [
          "w-12 h-12",
          "w-9 h-9",
          22
        ]
    );
  var radius = match[2];
  var avatarSize = match[1];
  var containerSize = match[0];
  var skillColor = getSkillColor(skillLevel);
  var circumference = 2 * 3.14159265359 * radius;
  var progress = skillLevel / 100 * circumference;
  var svgSize = size === "medium" ? "40" : (
      size === "small" ? "32" : "48"
    );
  var svgViewBox = "0 0 " + svgSize + " " + svgSize;
  var center = size === "medium" ? "20" : (
      size === "small" ? "16" : "24"
    );
  return JsxRuntime.jsxs("div", {
              children: [
                JsxRuntime.jsxs("svg", {
                      children: [
                        JsxRuntime.jsx("circle", {
                              cx: center,
                              cy: center,
                              fill: "none",
                              r: radius.toString(),
                              stroke: "#e5e7eb",
                              strokeWidth: "2"
                            }),
                        JsxRuntime.jsx("circle", {
                              className: "transition-all duration-300",
                              cx: center,
                              cy: center,
                              fill: "none",
                              r: radius.toString(),
                              stroke: skillColor,
                              strokeDasharray: circumference.toString(),
                              strokeDashoffset: (circumference - progress).toString(),
                              strokeLinecap: "round",
                              strokeWidth: "2"
                            })
                      ],
                      className: containerSize + " -rotate-90",
                      viewBox: svgViewBox
                    }),
                pictureUrl !== undefined ? JsxRuntime.jsx("img", {
                        className: "absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 " + avatarSize + " rounded-full object-cover",
                        alt: name,
                        src: pictureUrl
                      }) : JsxRuntime.jsx("div", {
                        children: name.charAt(0).toUpperCase(),
                        className: "absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 " + avatarSize + " rounded-full bg-slate-300 flex items-center justify-center text-slate-600 font-semibold text-xs"
                      })
              ],
              className: "relative flex-shrink-0 " + containerSize
            });
}

var make = AvatarWithProgressBar;

export {
  getSkillColor ,
  make ,
}
/* react/jsx-runtime Not a pure module */
