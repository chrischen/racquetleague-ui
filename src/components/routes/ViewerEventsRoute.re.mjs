// Generated by ReScript, PLEASE EDIT WITH CARE

import * as Util from "../shared/Util.re.mjs";
import * as Lingui from "../../locales/Lingui.re.mjs";
import * as Router from "../shared/Router.re.mjs";
import * as RelayEnv from "../../entry/RelayEnv.re.mjs";
import * as Localized from "../shared/i18n/Localized.re.mjs";
import * as Caml_option from "rescript/lib/es6/caml_option.js";
import * as Core__Option from "@rescript/core/src/Core__Option.re.mjs";
import * as ViewerEventsPage from "../pages/ViewerEventsPage.re.mjs";
import * as JsxRuntime from "react/jsx-runtime";
import * as ViewerEventsPageQuery_graphql from "../../__generated__/ViewerEventsPageQuery_graphql.re.mjs";

var LoaderArgs = {};

var loadMessages = Lingui.loadMessages({
      en: import("../../locales/src/components/pages/ViewerEventsPage.re/en"),
      ja: import("../../locales/src/components/pages/ViewerEventsPage.re/ja"),
      th: import("../../locales/src/components/pages/ViewerEventsPage.re/th"),
      zhTW: import("../../locales/src/components/pages/ViewerEventsPage.re/zh-TW"),
      zhCN: import("../../locales/src/components/pages/ViewerEventsPage.re/zh-CN")
    });

async function loader(param) {
  var params = param.params;
  var url = new URL(param.request.url);
  var after = Router.SearchParams.get(url.searchParams, "after");
  var before = Router.SearchParams.get(url.searchParams, "before");
  var afterDate = Core__Option.map(Router.SearchParams.get(url.searchParams, "afterDate"), (function (d) {
          return Util.Datetime.fromDate(new Date(d));
        }));
  if (import.meta.env.SSR) {
    await Localized.loadMessages(params.lang, loadMessages);
  }
  return {
          data: ViewerEventsPageQuery_graphql.load(RelayEnv.getRelayEnv(param.context, import.meta.env.SSR), {
                after: after,
                afterDate: afterDate,
                before: before,
                filters: {
                  viewer: true
                }
              }, "store-or-network", undefined, undefined),
          i18nLoaders: import.meta.env.SSR ? undefined : Caml_option.some(Localized.loadMessages(params.lang, loadMessages))
        };
}

var HydrateFallbackElement = JsxRuntime.jsx("div", {
      children: "Loading fallback..."
    });

var Component = ViewerEventsPage.make;

export {
  Component ,
  LoaderArgs ,
  loadMessages ,
  loader ,
  HydrateFallbackElement ,
}
/* loadMessages Not a pure module */
