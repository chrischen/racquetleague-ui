// Generated by ReScript, PLEASE EDIT WITH CARE

import * as Caml_option from "rescript/lib/es6/caml_option.js";
import * as Core__Option from "@rescript/core/src/Core__Option.re.mjs";
import * as LucideReact from "lucide-react";
import * as JsxRuntime from "react/jsx-runtime";
import * as AvatarWithProgressBar from "../atoms/AvatarWithProgressBar.re.mjs";
import * as PlayerRow_user_graphql from "../../__generated__/PlayerRow_user_graphql.re.mjs";
import * as RescriptRelay_Fragment from "rescript-relay/src/RescriptRelay_Fragment.re.mjs";

var convertFragment = PlayerRow_user_graphql.Internal.convertFragment;

function use(fRef) {
  return RescriptRelay_Fragment.useFragment(PlayerRow_user_graphql.node, convertFragment, fRef);
}

function useOpt(fRef) {
  return RescriptRelay_Fragment.useFragmentOpt(fRef !== undefined ? Caml_option.some(Caml_option.valFromOption(fRef)) : undefined, PlayerRow_user_graphql.node, convertFragment);
}

var Fragment = {
  Types: undefined,
  Operation: undefined,
  convertFragment: convertFragment,
  use: use,
  useOpt: useOpt
};

function PlayerRow(props) {
  var __incrementDisplayCount = props.incrementDisplayCount;
  var __debug = props.debug;
  var onClick = props.onClick;
  var getUserFragmentRefs = props.getUserFragmentRefs;
  var winner = props.winner;
  var player = props.player;
  var debug = __debug !== undefined ? __debug : false;
  __incrementDisplayCount !== undefined ? __incrementDisplayCount : false;
  var playCount = player.count;
  var isBold = winner !== undefined ? winner === props.teamSide : true;
  var containerClassName = props.isEditing ? "flex items-center gap-2 bg-white p-2 rounded border border-slate-200 hover:border-blue-500 hover:bg-blue-50 transition-all cursor-pointer" : "flex items-center gap-1.5 flex-1 min-w-0";
  var pictureUrl = Core__Option.flatMap(player.data, (function (data) {
          return Core__Option.flatMap(getUserFragmentRefs(data), (function (fragmentRefs) {
                        return use(fragmentRefs).picture;
                      }));
        }));
  var match = player.gender;
  var colorClass;
  colorClass = match === "Male" ? (
      isBold ? "text-slate-800" : "text-slate-600"
    ) : (
      isBold ? "text-pink-700" : "text-pink-600"
    );
  var weightClass = isBold ? "font-bold" : "font-normal";
  return JsxRuntime.jsxs("div", {
              children: [
                JsxRuntime.jsx(AvatarWithProgressBar.make, {
                      pictureUrl: pictureUrl,
                      name: player.name,
                      skillLevel: props.skillLevel,
                      size: "medium"
                    }),
                JsxRuntime.jsxs("div", {
                      children: [
                        JsxRuntime.jsx("span", {
                              children: player.name,
                              className: "text-base " + weightClass + " " + colorClass + " truncate leading-tight"
                            }),
                        JsxRuntime.jsxs("div", {
                              children: [
                                JsxRuntime.jsx("span", {
                                      children: "#" + player.intId.toString(),
                                      className: "font-mono"
                                    }),
                                playCount > 0 ? JsxRuntime.jsxs(JsxRuntime.Fragment, {
                                        children: [
                                          JsxRuntime.jsx("span", {
                                                children: "•"
                                              }),
                                          JsxRuntime.jsx(LucideReact.Play, {
                                                className: "w-3 h-3"
                                              }),
                                          JsxRuntime.jsx("span", {
                                                children: playCount.toString()
                                              })
                                        ]
                                      }) : null
                              ],
                              className: "flex items-center gap-1.5 text-xs text-slate-500"
                            }),
                        debug ? JsxRuntime.jsx("div", {
                                children: "μ: " + player.rating.mu.toFixed(2) + " σ: " + player.rating.sigma.toFixed(2),
                                className: "text-xs text-slate-400 font-mono"
                              }) : null
                      ],
                      className: "flex flex-col min-w-0 flex-1"
                    })
              ],
              className: containerClassName,
              onClick: onClick !== undefined ? (function (param) {
                    onClick();
                  }) : (function (param) {
                    
                  })
            });
}

var make = PlayerRow;

export {
  Fragment ,
  make ,
}
/* lucide-react Not a pure module */
