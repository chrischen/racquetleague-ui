// Generated by ReScript, PLEASE EDIT WITH CARE

import * as React from "react";
import * as $$MediaList from "./MediaList.re.mjs";
import * as Caml_option from "rescript/lib/es6/caml_option.js";
import * as Core__Option from "@rescript/core/src/Core__Option.re.mjs";
import * as LucideReact from "lucide-react";
import * as Core from "@linaria/core";
import * as EventLocation from "./EventLocation.re.mjs";
import * as JsxRuntime from "react/jsx-runtime";
import * as RescriptRelay_Fragment from "rescript-relay/src/RescriptRelay_Fragment.re.mjs";
import * as EventDetails_event_graphql from "../../__generated__/EventDetails_event_graphql.re.mjs";

var convertFragment = EventDetails_event_graphql.Internal.convertFragment;

function use(fRef) {
  return RescriptRelay_Fragment.useFragment(EventDetails_event_graphql.node, convertFragment, fRef);
}

function useOpt(fRef) {
  return RescriptRelay_Fragment.useFragmentOpt(fRef !== undefined ? Caml_option.some(Caml_option.valFromOption(fRef)) : undefined, EventDetails_event_graphql.node, convertFragment);
}

var Fragment = {
  Types: undefined,
  Operation: undefined,
  convertFragment: convertFragment,
  use: use,
  useOpt: useOpt
};

function EventDetails(props) {
  var $$event = use(props.event);
  var match = React.useState(function () {
        return "details";
      });
  var setActiveTab = match[1];
  var activeTab = match[0];
  return JsxRuntime.jsxs("div", {
              children: [
                JsxRuntime.jsxs("div", {
                      children: [
                        JsxRuntime.jsx("button", {
                              children: "Event Details",
                              className: Core.cx("py-2 px-4 font-medium text-sm", activeTab === "details" ? "text-blue-600 border-b-2 border-blue-600" : "text-gray-500 hover:text-gray-700"),
                              onClick: (function (param) {
                                  setActiveTab(function (param) {
                                        return "details";
                                      });
                                })
                            }),
                        JsxRuntime.jsx("button", {
                              children: "Location Details",
                              className: Core.cx("py-2 px-4 font-medium text-sm", activeTab === "location" ? "text-blue-600 border-b-2 border-blue-600" : "text-gray-500 hover:text-gray-700"),
                              onClick: (function (param) {
                                  setActiveTab(function (param) {
                                        return "location";
                                      });
                                })
                            })
                      ],
                      className: "flex border-b mb-4"
                    }),
                activeTab === "details" ? JsxRuntime.jsxs("div", {
                        children: [
                          JsxRuntime.jsx(LucideReact.Info, {
                                className: "text-blue-600 mt-1 mr-3 flex-shrink-0"
                              }),
                          JsxRuntime.jsx("div", {
                                children: Core__Option.getOr(Core__Option.map($$event.details, (function (details) {
                                            return details.split("\n").map(function (paragraph) {
                                                            return paragraph.trim();
                                                          }).filter(function (paragraph) {
                                                          return paragraph !== "";
                                                        }).map(function (paragraph, index) {
                                                        return JsxRuntime.jsx("p", {
                                                                    children: paragraph,
                                                                    className: "mb-2 last:mb-0"
                                                                  }, index.toString());
                                                      });
                                          })), null),
                                className: "text-gray-700 flex-1"
                              })
                        ],
                        className: "flex"
                      }) : null,
                activeTab === "location" ? JsxRuntime.jsxs("div", {
                        children: [
                          JsxRuntime.jsx(LucideReact.MapPin, {
                                className: "text-blue-600 mt-1 mr-3 flex-shrink-0"
                              }),
                          JsxRuntime.jsx("div", {
                                children: Core__Option.getOr(Core__Option.map($$event.location, (function ($$location) {
                                            var ref = $$location.fragmentRefs;
                                            return JsxRuntime.jsxs(JsxRuntime.Fragment, {
                                                        children: [
                                                          JsxRuntime.jsx(EventLocation.make, {
                                                                location: ref,
                                                                hideAddress: Core__Option.getOr($$event.shadow, false)
                                                              }),
                                                          JsxRuntime.jsx("div", {
                                                                children: JsxRuntime.jsx($$MediaList.make, {
                                                                      media: ref
                                                                    }),
                                                                className: "mt-4"
                                                              })
                                                        ]
                                                      });
                                          })), null),
                                className: "flex-1"
                              })
                        ],
                        className: "flex"
                      }) : null
              ],
              className: "bg-white rounded-lg shadow-sm p-4 md:p-5 mt-4"
            });
}

var make = EventDetails;

export {
  Fragment ,
  make ,
}
/* react Not a pure module */
