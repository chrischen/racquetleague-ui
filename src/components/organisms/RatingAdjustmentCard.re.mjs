// Generated by ReScript, PLEASE EDIT WITH CARE

import * as Js_dict from "rescript/lib/es6/js_dict.js";
import * as Core__Option from "@rescript/core/src/Core__Option.re.mjs";
import * as LucideReact from "lucide-react";
import * as JsxRuntime from "react/jsx-runtime";

import { t } from '@lingui/macro'
;

function RatingAdjustmentCard(props) {
  var onDelete = props.onDelete;
  var playersCache = props.playersCache;
  var adjustmentDisplay = props.adjustments.map(function (adj) {
        var player = Js_dict.get(playersCache, adj.playerId);
        var playerName = Core__Option.getOr(Core__Option.map(player, (function (p) {
                    return p.name;
                  })), "Unknown Player");
        var sign = adj.differential >= 0 ? "+" : "";
        var differential = adj.differential.toFixed(1);
        return [
                playerName,
                sign + differential
              ];
      });
  return JsxRuntime.jsx("div", {
              children: JsxRuntime.jsxs("div", {
                    children: [
                      JsxRuntime.jsxs("div", {
                            children: [
                              JsxRuntime.jsxs("div", {
                                    children: [
                                      JsxRuntime.jsx(LucideReact.Info, {
                                            className: "w-5 h-5 text-amber-700"
                                          }),
                                      JsxRuntime.jsx("span", {
                                            children: t`Rating Adjustment - Applied Before Round ${props.roundNumber.toString()}`,
                                            className: "font-semibold text-amber-900"
                                          })
                                    ],
                                    className: "flex items-center gap-2"
                                  }),
                              JsxRuntime.jsx("button", {
                                    children: JsxRuntime.jsx(LucideReact.Trash2, {
                                          className: "w-4 h-4"
                                        }),
                                    className: "p-1 rounded hover:bg-amber-200 transition-colors text-amber-700 hover:text-amber-900",
                                    title: t`Delete adjustment`,
                                    onClick: (function (param) {
                                        onDelete();
                                      })
                                  })
                            ],
                            className: "bg-amber-100 border-b border-amber-300 px-4 py-2 flex items-center justify-between"
                          }),
                      JsxRuntime.jsx("div", {
                            children: JsxRuntime.jsx("div", {
                                  children: adjustmentDisplay.map(function (param) {
                                        var differential = param[1];
                                        var playerName = param[0];
                                        return JsxRuntime.jsxs("div", {
                                                    children: [
                                                      JsxRuntime.jsx("span", {
                                                            children: playerName,
                                                            className: "text-sm font-medium text-slate-700"
                                                          }),
                                                      JsxRuntime.jsx("span", {
                                                            children: differential,
                                                            className: "text-sm font-mono font-bold " + (
                                                              differential.startsWith("+") ? "text-green-600" : "text-red-600"
                                                            )
                                                          })
                                                    ],
                                                    className: "flex items-center gap-2"
                                                  }, playerName);
                                      }),
                                  className: "flex flex-wrap gap-x-6 gap-y-2"
                                }),
                            className: "px-4 py-3"
                          })
                    ],
                    className: "bg-amber-50 border-2 border-amber-300 rounded-lg shadow-sm overflow-hidden"
                  }),
              className: "my-4 mx-auto max-w-3xl"
            });
}

var make = RatingAdjustmentCard;

export {
  make ,
}
/*  Not a pure module */
